@model BiblosDS.LegalExtension.AdminPortal.ViewModel.ArchivePreservationConfigurationViewModel

@{
    ViewBag.Title = "Configurazione Archivio";
}

@section featured {
    <hgroup class="title">
        <h1>@ViewBag.Title <b>@Model.Archive.Name</b></h1>
    </hgroup>
}

<div style="float:left; margin: 10px; padding: 5px">
    <table class="form-table k-block">        
        <tr>
            <td>Tipologia documenti conservati</td>
            <td>@Html.Label("archiveType", @Model.Archive.FiscalDocumentType.ToString())</td>
        </tr>
        <tr>
            <td>Transito abilitato</td>
            <td>@Html.CheckBoxFor(x => x.Archive.TransitoEnabled, new { @disabled = "disabled" })</td>
        </tr>
    </table>
</div>
<div style="margin: -10px; padding: 5px">
@using (Html.BeginForm("SetArchivePreservationConfiguration", "Home", FormMethod.Post))
{
    @Html.ValidationSummary(false)

    @Html.HiddenFor(x => x.Archive.IdArchive)
    @Html.HiddenFor(x => x.ArchiveConfiguration.IdArchive)

    <table class="form-table k-block">
        <tr>
            <td>Data inizio prima conservazione</td>
            <td>
                @(Html.Kendo().DatePickerFor(x => x.ArchiveConfiguration.PreservationLimitTaskToDocumentDate)
                    .HtmlAttributes(new { style = "width: 100%", title = "datepicker" })
                )
        </tr>
        <tr>
            <td>Verifica Incrementale abilitata</td>
            <td>@Html.CheckBoxFor(x => x.ArchiveConfiguration.VerifyPreservationIncrementalEnabled)</td>
        </tr>
        <tr>
            <td>Verifica Data abilitata</td>
            <td>@Html.CheckBoxFor(x => x.ArchiveConfiguration.VerifyPreservationDateEnabled)</td>
        </tr>
        <tr>
            <td>Ricalcola incrementale (Da abilitare per archivi tipo PEC)</td>
            <td>@Html.CheckBoxFor(x => x.ArchiveConfiguration.ForceAutoInc)</td>
        </tr>

        <tr>
            <td>Chiusura automatica conservazione</td>
            <td>@Html.CheckBoxFor(x => x.ArchiveConfiguration.PreservationAutoClose)</td>
        </tr>
        <tr>
            <td>Genera task successivo</td>
            <td>@Html.CheckBoxFor(x => x.ArchiveConfiguration.AutoGeneratedNextTask)</td>
        </tr>
        <tr>
            <td>Chiusura senza verifica conservazione</td>
            <td>@Html.CheckBoxFor(x => x.ArchiveConfiguration.CloseWithoutVerify)</td>
        </tr>
        <tr>
            <td>Controlla file .tsd</td>
            <td>@Html.CheckBoxFor(x => x.ArchiveConfiguration.CheckTsd)</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td colspan="2">
                @(Html.Kendo()
                    .Button()
                    .Name("btnSave")
                    .Content("Salva")
                    .HtmlAttributes(new { @type = "submit" }))
            </td>
        </tr>
    </table>
}
    </div>

